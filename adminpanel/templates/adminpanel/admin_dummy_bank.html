{% extends 'adminpanel/admin_base.html' %}
{% load static %}

{% block content %}
<div class="container" style="margin-left: 300px; margin-top: 100px; margin-bottom: 150px;">
    <h1>Add Dummy Bank Details</h1>

    <!-- Display messages -->
    {% if messages %}
        <div>
            {% for message in messages %}
                <div class="alert alert-success" role="alert">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <!-- Form for adding bank details -->
    <form method="post" novalidate>
        {% csrf_token %}
        <div class="form-group">
            <label for="{{ form.bank_name.id_for_label }}">Bank Name:</label>
            {{ form.bank_name }}
        </div>
        <div class="form-group">
            <label for="{{ form.account_number.id_for_label }}">Account Number:</label>
            {{ form.account_number }}
        </div>
        <div class="form-group">
            <label for="{{ form.atm_card_number.id_for_label }}">ATM Card Number:</label>
            {{ form.atm_card_number }}
        </div>
        <div class="form-group">
            <label for="{{ form.available_balance.id_for_label }}">Available Balance:</label>
            {{ form.available_balance }}
        </div>
        <div class="form-group">
            <label for="{{ form.account_status.id_for_label }}">Account Status:</label>
            {{ form.account_status }}
        </div>
        <button type="submit" class="btn btn-primary">Add Bank Details</button>
    </form>

    <!-- Display bank details after successful submission -->
    {% if bank_account %}
    <div class="bank-details">
        <h2>Bank Details Submitted:</h2>
        <table class="table table-bordered">
            <tr>
                <th>Bank Name</th>
                <td>{{ bank_account.bank_name }}</td>
            </tr>
            <tr>
                <th>Account Number</th>
                <td>{{ bank_account.account_number }}</td>
            </tr>
            <tr>
                <th>ATM Card Number</th>
                <td>{{ bank_account.atm_card_number }}</td>
            </tr>
            <tr>
                <th>Available Balance</th>
                <td>{{ bank_account.available_balance }}</td>
            </tr>
            <tr>
                <th>Account Status</th>
                <td>{{ bank_account.account_status }}</td>
            </tr>
            <tr>
                <th>Created At</th>
                <td>{{ bank_account.timestamp }}</td>
            </tr>
        </table>
    </div>
    {% endif %}
</div>
{% endblock %}
